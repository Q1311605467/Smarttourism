<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="dao.HotelMapper">
    <select id="getHotelAreaTop3" resultType="Hotel">
        select * from hotel where area_id = #{area_id} limit 3;
    </select>

    <select id="getHotelBArea_id" resultType="Hotel">
        select * from hotel where area_id = #{area_id};
    </select>

    <select id="searchHotel" resultType="Hotel">
        select * from hotel where hotel_name like CONCAT('%',#{sn},'%') or hotel_address like CONCAT('%',#{sn},'%')
    </select>

    <!--******************************后台************************************************-->
    <resultMap id="BaseResultMap" type="pojo.Hotel">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Mar 25 15:44:30 CST 2020.
        -->
        <id column="hotel_id" property="hotel_id" jdbcType="INTEGER"/>
        <result column="hotel_name" property="hotel_name" jdbcType="VARCHAR"/>
        <result column="hotel_address" property="hotel_address" jdbcType="VARCHAR"/>
        <result column="hotel_tel" property="hotel_tel" jdbcType="VARCHAR"/>
        <result column="hotel_cover" property="hotel_cover" jdbcType="VARCHAR"/>
        <result column="hotel_price" property="hotel_price" jdbcType="REAL"/>
        <result column="hotel_href" property="hotel_href" jdbcType="VARCHAR"/>
        <result column="area_id" property="area_id" jdbcType="INTEGER"/>
    </resultMap>
    <resultMap id="ResultMapWithBLOBs" type="pojo.Hotel" extends="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Mar 25 15:44:30 CST 2020.
        -->
        <result column="accommodation" property="accommodation" jdbcType="LONGVARCHAR"/>
    </resultMap>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Mar 25 15:44:30 CST 2020.
        -->
        hotel_id, hotel_name, hotel_address, hotel_tel, hotel_cover, hotel_price, hotel_href,
        area_id
    </sql>
    <sql id="Blob_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Mar 25 15:44:30 CST 2020.
        -->
        accommodation
    </sql>
    <select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Mar 25 15:44:30 CST 2020.
        -->
        select
        <include refid="Base_Column_List"/>
        ,
        <include refid="Blob_Column_List"/>
        from hotel
        where hotel_id = #{hotel_id,jdbcType=INTEGER}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Mar 25 15:44:30 CST 2020.
        -->
        delete from hotel
        where hotel_id = #{hotel_id,jdbcType=INTEGER}
    </delete>
    <insert id="insert" parameterType="pojo.Hotel">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Mar 25 15:44:30 CST 2020.
        -->
        insert into hotel (hotel_id, hotel_name, hotel_address,
        hotel_tel, hotel_cover, hotel_price,
        hotel_href, area_id, accommodation
        )
        values (#{hotel_id,jdbcType=INTEGER}, #{hotel_name,jdbcType=VARCHAR}, #{hotel_address,jdbcType=VARCHAR},
        #{hotel_tel,jdbcType=VARCHAR}, #{hotel_cover,jdbcType=VARCHAR}, #{hotel_price,jdbcType=REAL},
        #{hotel_href,jdbcType=VARCHAR}, #{area_id,jdbcType=INTEGER}, #{accommodation,jdbcType=LONGVARCHAR}
        )
    </insert>
    <insert id="insertSelective" parameterType="pojo.Hotel">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Mar 25 15:44:30 CST 2020.
        -->
        insert into hotel
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="hotel_id != null">
                hotel_id,
            </if>
            <if test="hotel_name != null">
                hotel_name,
            </if>
            <if test="hotel_address != null">
                hotel_address,
            </if>
            <if test="hotel_tel != null">
                hotel_tel,
            </if>
            <if test="hotel_cover != null">
                hotel_cover,
            </if>
            <if test="hotel_price != null">
                hotel_price,
            </if>
            <if test="hotel_href != null">
                hotel_href,
            </if>
            <if test="area_id != null">
                area_id,
            </if>
            <if test="accommodation != null">
                accommodation,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="hotel_id != null">
                #{hotel_id,jdbcType=INTEGER},
            </if>
            <if test="hotel_name != null">
                #{hotel_name,jdbcType=VARCHAR},
            </if>
            <if test="hotel_address != null">
                #{hotel_address,jdbcType=VARCHAR},
            </if>
            <if test="hotel_tel != null">
                #{hotel_tel,jdbcType=VARCHAR},
            </if>
            <if test="hotel_cover != null">
                #{hotel_cover,jdbcType=VARCHAR},
            </if>
            <if test="hotel_price != null">
                #{hotel_price,jdbcType=REAL},
            </if>
            <if test="hotel_href != null">
                #{hotel_href,jdbcType=VARCHAR},
            </if>
            <if test="area_id != null">
                #{area_id,jdbcType=INTEGER},
            </if>
            <if test="accommodation != null">
                #{accommodation,jdbcType=LONGVARCHAR},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="pojo.Hotel">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Mar 25 15:44:30 CST 2020.
        -->
        update hotel
        <set>
            <if test="hotel_name != null">
                hotel_name = #{hotel_name,jdbcType=VARCHAR},
            </if>
            <if test="hotel_address != null">
                hotel_address = #{hotel_address,jdbcType=VARCHAR},
            </if>
            <if test="hotel_tel != null">
                hotel_tel = #{hotel_tel,jdbcType=VARCHAR},
            </if>
            <if test="hotel_cover != null">
                hotel_cover = #{hotel_cover,jdbcType=VARCHAR},
            </if>
            <if test="hotel_price != null">
                hotel_price = #{hotel_price,jdbcType=REAL},
            </if>
            <if test="hotel_href != null">
                hotel_href = #{hotel_href,jdbcType=VARCHAR},
            </if>
            <if test="area_id != null">
                area_id = #{area_id,jdbcType=INTEGER},
            </if>
            <if test="accommodation != null">
                accommodation = #{accommodation,jdbcType=LONGVARCHAR},
            </if>
        </set>
        where hotel_id = #{hotel_id,jdbcType=INTEGER}
    </update>
    <update id="updateByPrimaryKeyWithBLOBs" parameterType="pojo.Hotel">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Mar 25 15:44:30 CST 2020.
        -->
        update hotel
        set hotel_name = #{hotel_name,jdbcType=VARCHAR},
        hotel_address = #{hotel_address,jdbcType=VARCHAR},
        hotel_tel = #{hotel_tel,jdbcType=VARCHAR},
        hotel_cover = #{hotel_cover,jdbcType=VARCHAR},
        hotel_price = #{hotel_price,jdbcType=REAL},
        hotel_href = #{hotel_href,jdbcType=VARCHAR},
        area_id = #{area_id,jdbcType=INTEGER},
        accommodation = #{accommodation,jdbcType=LONGVARCHAR}
        where hotel_id = #{hotel_id,jdbcType=INTEGER}
    </update>
    <update id="updateByPrimaryKey" parameterType="pojo.Hotel">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Mar 25 15:44:30 CST 2020.
        -->
        update hotel
        set hotel_name = #{hotel_name,jdbcType=VARCHAR},
        hotel_address = #{hotel_address,jdbcType=VARCHAR},
        hotel_tel = #{hotel_tel,jdbcType=VARCHAR},
        hotel_cover = #{hotel_cover,jdbcType=VARCHAR},
        hotel_price = #{hotel_price,jdbcType=REAL},
        hotel_href = #{hotel_href,jdbcType=VARCHAR},
        area_id = #{area_id,jdbcType=INTEGER}
        where hotel_id = #{hotel_id,jdbcType=INTEGER}
    </update>

    <select id="getCount" resultType="java.lang.Integer">
    select  count(*) from hotel ;
  </select>
    <select id="getHotelList" parameterType="java.lang.Integer" resultType="pojo.Hotel">
    select  * from hotel  group  by hotel_id asc  limit #{currentPageNo},#{pageSize};
  </select>
    <select id="getHotelListByName" parameterType="java.lang.String" resultType="pojo.Hotel">
    select  * from Hotel where hotel_name like concat('%',#{hotel_name},'%');
  </select>

    <insert id="htaddHotel" parameterType="Hotel">
		insert into hotel(hotel_name,hotel_address,hotel_tel,hotel_cover,accommodation,hotel_price,hotel_href,area_id)
		values(#{hotel.hotel_name},#{hotel.hotel_address},#{hotel.hotel_tel},#{hotel.hotel_cover},
		#{hotel.accommodation},#{hotel.hotel_price},#{hotel.hotel_href},#{hotel.area_id})
	</insert>

    <select id="htselectByName" resultType="int">
		select count(*) from hotel where hotel_name=#{hotel_name}
	</select>
</mapper>